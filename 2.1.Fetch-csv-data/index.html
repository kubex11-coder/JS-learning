<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title> fetch csv</title>
  </head>
  <body>
   
    <table>

    </table>
    <div id="Jméno">

    </div>

    <div id="Věk">

    </div>

    <script>
// getting the csv data
    async function getData() {
        const response = await fetch('biostats.csv');
        const biostats = await response.text();
        console.log(biostats);

// další úpravy dat

        let table = biostats.split('\r\n').slice(1);
        console.log(table);

       table.forEach (row => {
// for each "row" - "row" je každá jedna array v "table" 

        const elt = row.split(' ');
        // console.log(elt);

        const name = elt[0]
        const age = elt[2]
        console.log(name, age);

        // + html zobrazení - DOM manipulace
      
        const para = document.createElement("p");
        const node = document.createTextNode(name);
        para.appendChild(node);

        const element = document.getElementById("Jméno");
        element.appendChild(para);

       

        const para1 = document.createElement("p");
        const node1 = document.createTextNode(age);
        para1.appendChild(node1);

        const element1 = document.getElementById("Věk");
        element1.appendChild(para1);
       });
    };

// vše nad tím je součástí jedné funkce getData

    getData();



    </script>
    <!-- LOKÁLNĚ BOHUŽEL NEFUNGUJE V CHROMU - JE POTŘEBA SI OTEVŘÍT NA LOCALHOST SERVERU (GOOGLE WEB Server extension) A PROJÍT SI V TOM -->
    <!-- https://www.youtube.com/watch?v=RfMkdvN-23o-->
  </body>
</html>